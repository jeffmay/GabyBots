var ensightenOptions={client:"reuters",clientId:139,ns:"Bootstrapper",nexus:"nexus.ensighten.com"};

if ( ensightenOptions && !window[ensightenOptions.ns] ) {
	eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('8[j.l]=4(n){g 7={},5={};7.3i=\'2.0.3\';7.L=n.L||\'L.2j.2h\';7.n={1M:n.1M||37,2c:n.2q||7.L+\'/11/e.28\',27:n.2r||7.L+\'/\'+n.1u+\'/2D.2M\',2X:n.32||7.L+\'/\'+n.1u+\'/E/\',26:n.2n||7.L+\'/2p/a.28\',1u:n.1u,1f:n.1f};7.K=[];7.23=[];7.1r={};7.17=4(x){6(x.1a.G){9}D(g i=0;i<x.R.z;i++){6(x.R[i]()===o){9}}x.22()};5.Y=-1;5.21=[];5.1Z=[];5.2o=4(F){5.1W(8.1n.1I+\'//\'+7.n.27,o,(F||q))};5.2L=4(1c,1Q){7.1r[1c]=1Q};5.2Y=4(1c){6(1c 2f 7.1r){9 7.1r[1c]}u{9 1x}};5.M=4(){D(g i=0;i<7.K.z;i++){7.17(7.K[i])}};5.y={12:o,1g:o,1i:o};5.1j=4(C){h.22=4(){h.1a.G=q;h.1a.1V.16(B 14());5.Y=h.k;N{h.E()}Q(V){8[j.l].P(V)}1T{5.M()}};h.k=C.k;h.R=C.R||[];h.E=C.E;h.1a={G:o,1V:[]}};5.1w=4(x){6(5.1F(x.k)&&x.k!==-1){9 o}u{7.K.16(x);5.M();9 q}};5.1F=4(k){D(g i=0;i<7.K.z;i++){6(7.K[i].k===k){9 7.K[i]}}9 o};5.2A=4(k){g x=5.1F(k);6(x){9 x.1a.G}9 o};7.T=4(a){9((a.2H().z===2)?\'\':\'0\')+a};5.2K=4(C){g d=B 14();g 1h=d.2N()+\'-\'+7.T(d.2O())+\'-\'+7.T(d.2Q())+\' \'+7.T(d.2R())+\':\'+7.T(d.2S())+\':\'+7.T(d.2W());h.1E=C.1E||1;h.1h=1h;h.1D=C.1D||\'\';h.10=C.10||1;h.1C=C.1C||-1};5.3d=4(a){g m=8.1n.1I+"//"+7.n.26+"?d="+a.1h+"&2l="+a.1D+"&2m="+a.1E+"&t="+a.10+"&1o="+a.1C;g W=5.1B(m);W.1A=(B 14).1z();h.1Z.16(W)};5.P=4(e){e.1A=B 14().1z();7.23.16(e);g m=8.1n.1I+"//"+7.n.2c+"?2u="+e.2w+\'&2y=\'+e.2z+\'&1G=\'+e.2B+\'&2C=\'+7.n.1f+\'&1o=\'+5.Y;g W=5.1B(m);W.1A=(B 14).1z();h.21.16(W)};5.1B=4(m){g 1y=B 2E(0,0);1y.m=m;9 1y};5.1W=4(m,I,F){g w=A.1J(\'19\'),i,s=w[0];I=I||q;6(I){D(i=0;i<w.z;i++){6(w[i].m===m&&w[i].r&&/J|Z/.17(w[i].r)){9}}}6(F){g U=\'\';6(H F===\'1e\'){g 1b;D(1b 2f F){6(F.36(1b))U+=(18(\'&\')+18(1b)+\'=\'+18(F[1b]))}U=U.38(3)}m+=(\'?39=\'+7.n.1f+\'&3b=\'+18(8.1n.3c)+(U?18(\'?\')+U:\'\'))}g p=A.1Y(\'19\');p.10=\'24/2d\';p.2e=q;p.m=m;p.1t=p.2g=4(){6(h.X)h.r=\'J\'};s.1R.1S(p,s)};5.2t=4(m,1H,I){g w=A.1J(\'19\'),i,s=w[0];I=I||q;6(I){D(i=0;i<w.z;i++){6(w[i].m===m&&w[i].r&&/J|Z/.17(w[i].r)){N{1H()}Q(e){8[j.l].P(e)}1T{9}}}}g p=A.1Y(\'19\');p.10=\'24/2d\';p.2e=q;p.m=m;p.2g=4(){6(h.X)h.r=\'J\'};p.1t=p.2v=4(){6((!h.r||h.r===\'Z\'||h.r===\'J\')){h.1t=1x;6(h.X)h.r="J";N{1H.1U(h)}Q(e){8[j.l].P(e)}}};s.1R.1S(p,s)};5.2x=4(1p,1m,1G){N{g 2k=(1p[1m])?1p[1m]:4(){};1p[1m]=4(){1G.1K(h,1k);9 2k.1K(h,1k)}}Q(V){8[j.l].P(V)}};5.20=4(f,k){9 4(){N{6(k){5.Y=k}u{5.Y=\'20\'}f()}Q(V){8[j.l].P(V)}}};5.2F=4(1o){5.Y=1o};5.2G=4(f,k){g v;6(H f===\'4\'){v=B 5.1j({k:k||-1,R:[4(){9 8[j.l].y.12}],E:f})}u 6(H f===\'1e\'){v=f}u{9 o}5.1w(v)};5.2I=4(f,k){g v;6(H f===\'4\'){v=B 5.1j({k:k||-1,R:[4(){9 8[j.l].y.1g}],E:f})}u 6(H f===\'1e\'){v=f}u{9 o}5.1w(v)};5.2J=4(f,k){g v;6(H f===\'4\'){v=B 5.1j({k:k||-1,R:[4(){9 8[j.l].y.1i}],E:f})}u 6(H f===\'1e\'){v=f}u{9 o}5.1w(v)};5.1q=4(){8[j.l].y.12=q;8[j.l].M()};5.1L=4(){8[j.l].y.12=q;8[j.l].y.1g=q;8[j.l].M()};5.25=4(){D(g b=A.1J("19"),a=0,c=b.z;a<c;a++){6(b[a].m.2P(/\\.2j\\.2h\\/(.+?)\\/E\\/.*/i)&&!("J"==b[a].r||"Z"==b[a].r)){1l(29.25,2a);9}}1l(4(){8[j.l].y.1i=q;8[j.l].M()},1)};5.2T=4(){9 8[j.l].y.12};5.2U=4(){9 8[j.l].y.1g};5.2V=4(){9 8[j.l].y.1i};g 2b=4(){g S=[];g G=o;g 1s=o;9{2Z:4(f){6(G&&!1s){f();9}6(H f!="4"){9}S[S.z]=f},30:4(){1s=q;31{g 1N=S;S=[];G=q;D(g i=0;i<1N.z;i++){N{1N[i].1U(8)}Q(e){29.P(e)}}}33(S.z>0);1s=o},34:4(){9 G}}};5.35=4(){9 2b()};7.1O=1x;(4(){4 c(a,b){9 4(){a.1K(b,1k)}}6(!8.1P)8.1P={};g a=8.1P;6(!a.O)6(8.2i){g b=2i.3a();a.O=c(b.13,b);a.1d=c(b.1d,b);a.13=c(b.13,b);a.1v=c(b.1v,b);a.11=c(b.11,b)}u a.O=4(){};6(!a.1d)a.1d=a.O;6(!a.13)a.13=a.O;6(!a.1v)a.1v=a.O;6(!a.11)a.11=a.O})();6(A.X){6((3e.3f.3g(\'3h/\')>-1)){7.1O=8.1X(4(){6(/J|Z/.17(A.r)){3j(7.1O);5.1q()}},2a)}u{A.X("3k",5.1q,o)}8.X("3l",5.1L,o)}u{1l(4(){g d=8.A;(4(){N{6(!A.3m)3n"3o";d.3p.3q(\'3r\')}Q(e){1l(1k.3s,15);9}8[j.l].1q()})()},1);8.2s(\'1t\',4(){8[j.l].1L()})}8.1X(5.M,7.n.1M);9 5}(j);',62,215,'||||function|_public|if|_private|window|return|||||||var|this||ensightenOptions|id|ns|src|options|false|newScript|true|readyState|||else|newRule|scripts|rule|executionState|length|document|new|params|for|code|addData|hasRun|typeof|dedupe|loaded|ruleList|nexus|testAll|try|log|reportException|catch|dependencies|funcs|toTwoChar|appendParams|err|img|addEventListener|currentRuleId|complete|type|error|DOMParsed|info|Date||push|test|encodeURIComponent|script|executionData|key|name|debug|object|clientId|DOMLoaded|date|conditionalRules|Rule|arguments|setTimeout|event|location|rid|element|callOnDOMParsed|ensightenVariables|running|onload|client|warn|registerRule|null|transmit|getTime|timestamp|imageRequest|ruleId|subject|severity|getRule|fn|callback|protocol|getElementsByTagName|apply|callOnDOMLoaded|interval|toRun|timer|console|value|parentNode|insertBefore|finally|call|runTime|insertScript|setInterval|createElement|reportedAlerts|anonymous|reportedErrors|execute|exceptionList|text|callOnPageSpecificCompletion|alLoc|scLoc|gif|Bootstrapper|50|fArray|erLoc|javascript|async|in|onerror|com|log4javascript|ensighten|old|su|se|alertLocation|getServerComponent|alerts|errorLocation|serverComponentLocation|attachEvent|loadScriptCallback|msg|onreadystatechange|message|unobtrusiveAddEvent|lnn|lineNumber|hasRuleRun|fileName|cid|serverComponent|Image|setCurrentRuleId|bindDOMParsed|toString|bindDOMLoaded|bindPageSpecificCompletion|Alert|setVariable|php|getFullYear|getMonth|match|getDate|getHours|getMinutes|hasDOMParsed|hasDOMLoaded|hasPageSpecificCompletion|getSeconds|sjPath|getVariable|add|exec|do|staticJavscriptPath|while|haveRun|new_fArray|hasOwnProperty|100|slice|ClientID|getDefaultLogger|PageID|href|generateAlert|navigator|userAgent|indexOf|AppleWebKit|version|clearInterval|DOMContentLoaded|load|body|throw|continue|documentElement|doScroll|left|callee'.split('|'),0,{}));
	
callback24237=Bootstrapper.new_fArray();callback14144=Bootstrapper.new_fArray();callback8650=Bootstrapper.new_fArray();callback13874=Bootstrapper.new_fArray();(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){var w=window;w.wt_fpcCookie=Bootstrapper.Cookies.get('WT_FPC');TR.log("Entered the First Rule Tag");if(wt_fpcCookie===null){TR.log("wt_fpcCookie is null");w.wt_fpcID="NotSet";}else{var wt_valueMap={},tempStr=wt_fpcCookie;tempStr.replace(/([^=:]+)=([^:]*)/g,function($0,param,value){wt_valueMap[param]=value;});w.wt_fpcID=wt_valueMap.id;TR.log("wt_fpcID = "+w.wt_fpcID);}
var srnd_keyword=Bootstrapper.Cookies.get("srnd_keyword");var srnd_sequence=Bootstrapper.Cookies.get("srnd_sequence");if(srnd_keyword){w.srnd=TR.data.srnd="srnd="+(srnd_keyword||"")+";srnd_sequence="+(srnd_sequence||"")+";";}})();});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){function parseRcomUrl(){TR.data.contentType="landing";var parts=window.location.pathname.split("/");if(parts[1]!==null&&parts[1]==="article"){TR.data.contentType="articles";}}
function parseOlympicsUrl(){var w=window;TR.log("Entered the Olympic URL Parsing tag");var ARTICLES="articles";var LANDING="landing";var DATE_YEAR="2012";var SCHEDULES="schedules";var SEARCH="search";var HOME="Home";w.pageNumber="1";var currentURL=window.location.pathname;var parts=currentURL.split("/");w.siteEdition="Olympics2012";w.topLevelName=parts[1];w.contentGroupName=null;w.contentSubGroupName=null;w.contentSubGroupName2=null;w.contentType=LANDING;w.adSite="ReutersOlympics/";w.adZone="home";w.searchPhrase=null;var contentGroupIndex=-1;if(parts[2]!==null&&parts[2]!=="")
{if(parts[2]===ARTICLES)
{contentGroupIndex=3;contentType=ARTICLES;}
if(parts[2]===SEARCH)
{contentGroupIndex=2;contentType=SEARCH;}
else
{contentGroupIndex=2;}}
else
{contentGroupName=HOME;contentSubGroupName=HOME;contentType=HOME;}
if(contentGroupIndex!=-1)
{contentGroupName=parts[contentGroupIndex];if(parts[contentGroupIndex+1]!==undefined&&parts[contentGroupIndex+1]!==null&&parts[contentGroupIndex+1]!=="")
{contentSubGroupName=parts[contentGroupIndex+1];if(parts[contentGroupIndex+2]!==undefined&&parts[contentGroupIndex+2]!=DATE_YEAR)
{contentSubGroupName2=parts[contentGroupIndex+2];}
if(contentType==SEARCH)
{searchPhrase=currentURL.substring(currentURL.indexOf("/site/")+6);searchPhrase=decodeURI(searchPhrase);contentSubGroupName2=null;}}
if(contentType==ARTICLES)
{if(parts[3]!==null&&parts[3]!=="")
{adZone=parts[3]+"/"+ARTICLES;}}
else
{if(contentGroupName!==null&&contentGroupName!=="")
{adZone=contentGroupName;}
if(contentSubGroupName!==null)
{adZone=adZone+"/"+contentSubGroupName;}
if(contentSubGroupName2!==null&&parts[2]===SCHEDULES)
{adZone=adZone+"/"+contentSubGroupName2;}}}
TR.log("contentGroupIndex = "+contentGroupIndex);TR.log("Top Level Name = "+topLevelName);TR.log("contentGroupName = "+contentGroupName);TR.log("contentSubGroupName = "+contentSubGroupName);TR.log("contentSubGroupName2 = "+contentSubGroupName2);TR.log("contentType = "+contentType);TR.log("adSite = "+adSite);TR.log("adZone = "+adZone);TR.log("searchPhrase = "+searchPhrase);TR.log("pageNumber = "+pageNumber);}
if(~window.location.pathname.indexOf('london-olympics-2012')){parseOlympicsUrl();}else if(~window.location.hostname.indexOf('reuters.com')||~window.location.hostname.indexOf('10.90.22.173')){parseRcomUrl();}})();;Bootstrapper.setCurrentRuleId(13874);callback13874.exec();});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){if(TR.data.doNotFireTags)
{return;}
if(TR.checkHosts(['reuters.com','preview.us.reuters.com','10.90.22.173','thomsonreutstg.prod.acquia-sites.com','test-site-reuters.arc90.com'])){TR.addEvent("fired:npario");var segUri='http://svc.npario-inc.net/DMP/tag.js?ck=C128&ap=1&seg=1';if(TR.sync.npario===1){TR.writeScript(segUri);TR.addEvent("completed:npario");}else{Bootstrapper.loadScriptCallback(segUri,function(){TR.addEvent("completed:npario");});}
Bootstrapper.bindDOMLoaded(function(){Bootstrapper.loadScriptCallback('http://svc.npario-inc.net/DMP/tag.js?ck=C128&ap=0&seg=0',function(){addKV("revop_wtfpc",window.wt_fpcCookie);pixel();});});}})();});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){if(TR.data.doNotFireTags)
{return;}
TR.addEvent("fired:crowdscience");window.crowdScienceCallback=function(data){if(data&&data.segments){TR.data.crowdscience=';csseg='+data.segments.join(';csseg=');TR.log("CrowdScience callback got data = ",TR.data.crowdscience);}
TR.addEvent("completed:crowdscience");};var uri=('https:'==document.location.protocol?'https://secure-':'http://')+'static.crowdscience.com/max-0d4c0ced3a.js?callback=crowdScienceCallback';if(TR.sync.crowdscience===1){TR.writeScript(uri);}else{Bootstrapper.insertScript(uri);}})();});var init=true;document._write=document.write;document.write=function(x){if(Bootstrapper.hasDOMParsed()){var d=document.createElement('div');x=x.split(/\<script/i);var scripts=[];var repSpans=[];var repScripts=[];if(x[0]==''){x.shift();}
for(var i=0;i<x.length;i++){x[i]=x[i].split(/\/script\>/i);if(x[i][0].indexOf('<')){scripts.push('<script'+x[i][0]+'/script>');x[i][0]="<span name='ensScript'></span>";}
x[i]=x[i].join('');}
x=x.join('');d.innerHTML=x;var spans=d.getElementsByTagName('span');for(var i=0;i<spans.length;i++){if(spans[i].getAttribute('name')=='ensScript'){var s=scripts.shift();s=s.replace(/\<\/script\>/i,'');s=s.split('>');var attr=s[0].split(' ');var script=document.createElement('script');for(var j=1;j<attr.length;j++){attr[j]=attr[j].split('=');var attrName=attr[j].shift();attr[j]=attr[j].join('=');if(attr[j].match(/^(\'|\")/)){var wrapper=attr[j].slice(0,1);attr[j]=attr[j].slice(1,attr[j].length);attr[j]=attr[j].slice(0,attr[j].lastIndexOf(wrapper));}
try{script.setAttribute(attrName,attr[j]);script.text=s[1];}catch(e){console.info('doc.write error::'+e);}}
repSpans.push(spans[i]);repScripts.push(script);}}
for(var i=repSpans.length-1;i>=0;i--){d.replaceChild(repScripts[i],repSpans[i]);}
document.body.appendChild(d);}else{document._write(x);}};Bootstrapper.getElementsByClassName=function(){var root=document,className='',partial=false;for(var i=0;i<arguments.length;i++){if(typeof arguments[i]=='object'){root=arguments[i];}else if(typeof arguments[i]=='string'){className=arguments[i];}else{partial=arguments[i];}}
var elements=root.getElementsByTagName('*');var retElements=[],needle=partial?new RegExp(className):new RegExp('^'+className+'$');for(var i=0;i<elements.length;i++){try{var tempClass=(elements[i].className.toString()||'').split(' ');}catch(e){console.info(elements[i].className);}
for(var j=0;j<tempClass.length;j++){if(tempClass[j].match(needle)){retElements.push(elements[i]);}}}
return retElements;};Bootstrapper.trim=function(str){return str.replace(/^\s\s*/,'').replace(/\s\s*$/,'');};Bootstrapper.fnIsEmpty=function(fn){try{if(fn){var rx=/^function [^(]*\(\)[ ]*{(.*)}$/;var b=rx.exec((fn+'').replace(/\n/g,""))[1];return Bootstrapper.trim(b)==="";}else{return true;}}catch(err){console.info(err);return false;}};Bootstrapper.Cookies=new function(){this.defaultDomain='.'+window.location.hostname.match(/[-\w]+\.(?:[-\w]+\.xn--[-\w]+|[-\w]{3,}|[-\w]+\.[-\w]{2})$/i)[0];this._cookies={};this.build=function(){for(var c=document.cookie.split("; "),a=0;a<c.length;a++)this._cookies[c[a].slice(0,c[a].indexOf("="))]=c[a].slice(c[a].indexOf("=")+1)};this.get=function(c,a,f){this.build();var g=this._cookies[c];if(arguments.length==1)return g;else for(var g=g.split(f||"&"),d=0,b=g.length;d<b;d++)if(g[d].indexOf(a+"=")==0)return g[d].slice((a+"=").length,g[d].length)};this.modCookie=function(c,a,f,g){document.cookie=c+"="+a+(f?";expires="+f:"")+";domain="+(g?g:this.defaultDomain)};this.set=function(c,a,f,g){if(arguments.length==4){for(var d="",b=0;b<a.length;b++)d+=(b!=0?f:"")+a[b].join("=");this.modCookie(c,d,g)}else if(arguments.length==3)if(typeof a=="object")if(typeof f=="object"){d="";for(b=0;b<a.length;b++)d+=(b!=0?"&":"")+a[b].join("=");this.modCookie(c,d,f)}else{d="";for(b=0;b<a.length;b++)d+=(b!=0?f:"")+a[b].join("=");this.modCookie(c,d)}else this.modCookie(c,a,f);else if(typeof a=="object"){d="";for(b=0;b<a.length;b++)d+=(b!=0?"&":"")+a[b].join("=");this.modCookie(c,d)}else this.modCookie(c,a)};this.addValue=function(c,a,f,g){this.build();var d=this._cookies[c]||"";if(arguments.length==4){for(var b="",e=0;e<a.length;e++)b+=(d==""&&e==0?"":f)+a[e].join("=");this.modCookie(c,d+b,g)}else if(arguments.length==3)if(typeof a=="object")if(typeof f=="object"){b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":"&")+a[e].join("=");this.modCookie(c,d+b,f)}else{b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":f)+a[e].join("=");this.modCookie(c,d+b)}else this.modCookie(c,d+a,f);else if(typeof a=="object"){b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":"&")+a[e].join("=");this.modCookie(c,d+b)}else this.modCookie(c,d+a)};this.remove=function(c,a){this.build();if(this._cookies[c]){var f=(new Date).toGMTString();this.modCookie(c,"",f,a)}};this.check=function(c,a){this.build();return arguments.length==2?this.get(c).match(a+"=")?!0:!1:this._cookies[c]?!0:!1};this.build()};var TR={};TR.logEnabled=1;TR.logs=[];TR.intervals={};TR.tagEvents={};TR.sync={};TR.tags={};TR.counters={};TR.data={};TR.data.ord=Math.random()*10000000000000000;window.WT=window.WT||{};TR.log=function(msgs){TR.logs.push([new Date()].concat(Array.prototype.slice.call(arguments)));if(TR.logEnabled===1){return window.console&&console.log&&Function.apply.call(console.log,console,arguments);}};TR.data.doNotFireTags=false;if(~window.location.pathname.indexOf('videoChannelNarrow')||~window.location.pathname.indexOf('videoTabNarrow')||~window.location.pathname.indexOf('commentsChild'))
{TR.data.doNotFireTags=true;}
TR.log("TR.data.doNotFireTags = "+TR.data.doNotFireTags);TR.dumpLogs=function(){for(var i=0;i<TR.logs.length;i++){Function.apply.call(console.log,console,TR.logs[i]);}};TR.writeScript=function(url){document.write('<script type="text/javascript" src="'+url+'"></script>');};TR.checkHosts=function(hosts){for(var i=hosts.length-1;i>=0;i--){if(window.location.hostname.indexOf(hosts[i])>=0){return true;}}
return false;};TR.addEvent=function(name){TR.log("event fired: "+name);TR.tagEvents[name.toLowerCase()]=1;};TR.checkEvents=function(events){for(var i=events.length-1;i>=0;i--){if(TR.tagEvents[events[i].toLowerCase()]!==1){TR.log("event not completed: ",events[i]);return false;}}
TR.log("all events completed: ",events);return true;};TR.checkEvent=function(event){if(TR.tagEvents[event.toLowerCase()]===1){TR.log("event completed: ",event);return true;}};TR.hasTimedOut=function(name,maxIntervals){if(!TR.counters[name]){TR.counters[name]=0;}
if(TR.counters[name]===maxIntervals){TR.addEvent("timeout:"+name);TR.log("timeout:"+name+" after "+maxIntervals+" intervals");return true;}
TR.counters[name]++;return false;};TR.createDFPUrl=function(baseUrl,params){var n_pbt=window.n_pbt||';';var gs=window.gs_channels||';';var np=window.npsegs||';';var cs=TR.data.crowdscience||';';var srnd=TR.data.srnd||';';var seg=window.seg||';';var u=";u=";if(window.wt_fpcCookie){var f=window.wt_fpcCookie;f=f.replace(/\=/g,"_");f=f.replace(/;/g,":");u+=f;}else{u+="NC";}
if(window.trid){u+=":trid_"+window.trid;}
u+=":p_";if(typeof(window.npsegs)!=="undefined"){u+="n";}
if(typeof(TR.data.crowdscience)!=="undefined"){u+="c";}
if(typeof(window.gs_channels)!=="undefined"){u+="g";}
u+=";";params=params||"";var uri=baseUrl+';'+params+n_pbt+srnd+gs+np+cs+seg+u+';ord='+TR.data.ord+'?';uri=uri.replace(/;+/g,";");TR.log("new ad uri: "+uri);return uri;};TR.insertAds=function(baseUrl,ads){function createAd(divId,params){var uri=TR.createDFPUrl(baseUrl,params);return{container:function(){return document.getElementById(divId);},rScript:function(){return uri;}};}
var init=[];for(var i=0;i<ads.length;i++){init.push(createAd(ads[i][0],ads[i][1]));}
TR.log("calling Bootstrapper.adFramework.init with "+init.length+" ads");Bootstrapper.adFramework.init(init);};TR.insertDFP=function(dfpUrl){TR.writeScript(TR.createDFPUrl(dfpUrl));};TR.insertDFPAsync=function(dfpUrl){var intervalId=dfpUrl;var divId="dfp-ad-"+Math.ceil(Math.random()*1000000);document.write("<div id='"+divId+"'></div>");TR.data.dfpStart=new Date().getTime();function fireDFP(clear){if(clear===true){window.clearInterval(TR.intervals[intervalId]);}
TR.insertAds(dfpUrl,[[divId,""]]);TR.addEvent("completed:dfp");TR.log("elapsed: ",(new Date().getTime()-TR.data.dfpStart)+"ms");}
Bootstrapper.bindDOMParsed(function(){var eventsNeeded=["completed:npario","completed:crowdscience"];if(window.contentType==="articles"||TR.data.contentType==="articles"){eventsNeeded.push("completed:grapeshot");}
if(TR.checkEvents(eventsNeeded)){fireDFP();return;}
TR.intervals[intervalId]=window.setInterval(function(){var fire=false;if(TR.hasTimedOut("dfp",4)){fire=true;}
if(!fire&&TR.checkEvents(eventsNeeded)){fire=true;}
if(fire===true){TR.log("firing dfp");fireDFP(true);}},50);});};1;;Bootstrapper.setCurrentRuleId(8650);callback8650.exec();(window.callback13874=window.callback13874||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(13874);(function(){if(window.contentType==="articles"||TR.data.contentType==="articles"){TR.addEvent("fired:grapeshot");var pageURI=encodeURIComponent?encodeURIComponent(window.location.href):escape(window.location.href);var uri=null;if(TR.checkHosts(['www.reuters.com','preview.us.reuters.com','10.90.22.173']))
{uri='http://reuters.gscontxt.net/Main/channels.cgi?url='+pageURI;}
else if(TR.checkHosts(['uk.reuters.com','preview.uk.reuters.com']))
{uri='http://reuters.grapeshot.co.uk/Main/channels.cgi?url='+pageURI;}
if(!uri)
{TR.addEvent("completed:grapeshot");return;}
if(TR.sync.grapeshot===1){TR.writeScript(uri);TR.addEvent("completed:grapeshot");}else{Bootstrapper.loadScriptCallback(uri,function(){TR.addEvent("completed:grapeshot");});}}})();});try{Bootstrapper.setCurrentRuleId(11925);Bootstrapper.loadScriptAsChildCallback=function(src,callback,node,dedupe){var scripts=document.getElementsByTagName('script'),i,dedupe=dedupe||true;if(dedupe){for(i=0;i<scripts.length;i++){if(scripts[i].src===src&&scripts[i].readyState&&/loaded|complete/.test(scripts[i].readyState)){try{callback();}catch(e){Bootstrapper.reportException(e);}finally{return;}}}}
var newScript=document.createElement('script');newScript.type='text/javascript';newScript.async=true;newScript.src=src;newScript.onerror=function(){if(this.addEventListener)this.readyState='loaded';};newScript.onload=newScript.onreadystatechange=function(){if((!this.readyState||this.readyState==='complete'||this.readyState==='loaded')){this.onload=null;if(this.addEventListener)
this.readyState="loaded";try{callback.call(this);}catch(e){Bootstrapper.reportException(e);}}};node.appendChild(newScript);};Bootstrapper.adFramework=function(){var _private={run:function(iArr,id){Bootstrapper.activeId=id;console.info('Starting Ad Framework for call id::'+id);_private.setup();Bootstrapper.adContainers=iArr;Bootstrapper.adTracking=0;Bootstrapper.insertAds=setInterval(function(){try{if(Bootstrapper.adContainers.length==0&&Bootstrapper.adTracking==0){_private.teardown();clearInterval(Bootstrapper.insertAds);return;}
if(Bootstrapper.adTracking==0){var inWork=Bootstrapper.adContainers.shift();Bootstrapper.adTarget=inWork.container();Bootstrapper.adTarget.innerHTML='';Bootstrapper.adTracking=1;Bootstrapper.loadScriptAsChildCallback(inWork.rScript(),function(){Bootstrapper.adTracking--;console.info('Completed Ad Framework for call id::'+id);},Bootstrapper.adTarget);}}catch(e){Bootstrapper.reportException(e);}},100);},setup:function(){oldWrite=document.write;document.write=_private.shim;},teardown:function(){document.write=oldWrite;},shim:function(x){console.info('In doc.write, active id::'+Bootstrapper.activeId);var x=x.replace(/<script/ig,'<script defer');if(document.getElementById('_ensData')==null){var newDiv=document.createElement('div');newDiv.style.display='none';document.getElementsByTagName('body')[0].appendChild(newDiv);}
var data=document.getElementById('_ensData');var tempDiv=document.createElement('div');tempDiv.innerHTML=x;var scripts=tempDiv.getElementsByTagName('script');var scriptsSrc=[];for(var i=0;i<scripts.length;i++){scriptsSrc.push(scripts[i].src);tempDiv.removeChild(scripts[i]);}
Bootstrapper.adTarget.innerHTML+=tempDiv.innerHTML;for(var i=0;i<scriptsSrc.length;i++){Bootstrapper.adTracking++;Bootstrapper.loadScriptAsChildCallback(scriptsSrc[i],function(){Bootstrapper.adTracking--;},Bootstrapper.adTarget);}
return;},oldWrite:function(){}};var _public={init:function(iArr){var id=Math.random()*10000000000;_private.run(iArr,id);}};return _public;}();;}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(12597);for(var i=0;i<1000;i++){var n=11000+i
window['callback'+n]=Bootstrapper.new_fArray();};}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(14123);Bootstrapper.getServerComponent=function(){if(TR.data.doNotFireTags)
{return;}
var u=window.location.href;var x=window.location.pathname;if((x.lastIndexOf("/")!=x.length-1)&&!~x.indexOf(".")){u+="/";}
o=window.ensightenOptions;Bootstrapper.insertScript("//"+o.nexus+"/"+o.client+"/serverComponent.php?clientID="+o.clientId+"&PageID="+encodeURIComponent(u));};;}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(16453);var COOKIE_SERVER=('https:'==document.location.protocol?'https://':'http://')+'scarf.ensighten.com/',scarfUrl=COOKIE_SERVER+'go?callback=Bootstrapper.setGEO';Bootstrapper.setGEO=function(g){Bootstrapper.GEO=g.ENSIGHTEN_REGION;};Bootstrapper.loadScriptCallback(scarfUrl,function(){try{window.TR=window.TR||{};TR.data=TR.data||{};TR.data.fireKonteraTag=(Bootstrapper.GEO==='GB');console.info(TR.data.fireKonteraTag);console.info('Detected Region: '+Bootstrapper.GEO);}catch(e){Bootstrapper.reportException(e);}});;}catch(e){Bootstrapper.reportException(e);}Bootstrapper.globalRuleList='8650;11925;12311;12597;13874;14123;15226;15455;16453;16802';
	Bootstrapper.getServerComponent();
}
