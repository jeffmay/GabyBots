Reuters.namespace("rtvcrsl");Reuters.rtvcrsl.timer=null;Reuters.rtvcrsl.index=0;Reuters.rtvcrsl.max=3;
Reuters.rtvcrsl.init=function(){var a=Reuters.rtvcrsl;Reuters.rtvcrsl.max=$("#rtv-carousel").find(".rtv-crsl-panel").length;var b="";for(i=0;i<Reuters.rtvcrsl.max;i++)b+='<span id="rtv-status'+i+'">&#8226;</span>';$(".rtv-status").html(b);$(".rtv-status span").each(function(a){$(this).click(function(){Reuters.rtvcrsl.clickSwitchTo(a)})});a.switchTo(0);$("#rtv-controls .rtv-left").click(function(){Reuters.rtvcrsl.clickprev()});$("#rtv-controls .rtv-right").click(function(){Reuters.rtvcrsl.clicknext()});
Reuters.rtvcrsl.timer=setInterval(Reuters.rtvcrsl.next,1E4)};Reuters.rtvcrsl.clicknext=function(){Reuters.rtvcrsl.delayTimer();Reuters.rtvcrsl.next()};Reuters.rtvcrsl.clickprev=function(){Reuters.rtvcrsl.delayTimer();Reuters.rtvcrsl.prev()};Reuters.rtvcrsl.clickSwitchTo=function(a){Reuters.rtvcrsl.delayTimer();Reuters.rtvcrsl.switchTo(a)};Reuters.rtvcrsl.next=function(){var a=Reuters.rtvcrsl;a.index<a.max-1?a.switchTo(a.index+1):a.switchTo(0)};
Reuters.rtvcrsl.prev=function(){var a=Reuters.rtvcrsl;a.index==0?a.switchTo(a.max-1):a.switchTo(a.index-1)};Reuters.rtvcrsl.switchTo=function(a){var b=Reuters.rtvcrsl;$("#rtv-carousel").find(".rtv-crsl-panel").eq(b.index).fadeOut("fast",function(){$("#rtv-carousel").find(".rtv-crsl-panel").eq(b.index).toggle(false);$("#rtv-carousel").find(".rtv-crsl-panel").eq(a).toggle(true);$("#rtv-status"+b.index).toggleClass("active",false);$("#rtv-status"+a).toggleClass("active",true);b.index=a})};
Reuters.rtvcrsl.delayTimer=function(){clearInterval(Reuters.rtvcrsl.timer);Reuters.rtvcrsl.timer=setInterval(Reuters.rtvcrsl.next,16E3)};Reuters.namespace("rtv");
Reuters.rtv.initSchedule=function(){var a=new Date;$("#rtv-mon").parent().click(function(){Reuters.rtv.loadSchedule("mon")});$("#rtv-tue").parent().click(function(){Reuters.rtv.loadSchedule("tue")});$("#rtv-wed").parent().click(function(){Reuters.rtv.loadSchedule("wed")});$("#rtv-thu").parent().click(function(){Reuters.rtv.loadSchedule("thu")});$("#rtv-fri").parent().click(function(){Reuters.rtv.loadSchedule("fri")});switch(a.getDay()){case 0:Reuters.rtv.loadSchedule("fri");break;case 1:Reuters.rtv.loadSchedule("mon");
break;case 2:Reuters.rtv.loadSchedule("tue");break;case 3:Reuters.rtv.loadSchedule("wed");break;case 4:Reuters.rtv.loadSchedule("thu");break;case 5:Reuters.rtv.loadSchedule("fri");break;case 6:Reuters.rtv.loadSchedule("fri");break;default:Reuters.rtv.loadSchedule("mon")}};
Reuters.rtv.loadSchedule=function(a){$(".rtv-schedule-day").toggleClass("hidden",true);$("#rtv-schedule-tabs li").toggleClass("active",false);$("#rtv-schedule-"+a).toggleClass("hidden",false);$("#rtv-"+a).parent().toggleClass("active",true)};
Reuters.rtv.loadNewsModule=function(){trace("loading news module");var a=Reuters.utils.getQueryStringParameter(location.href,"videoChannel");document.getElementById("rtvHeadlines")&&Reuters.utils.replaceContent("rtvHeadlines","/assets/sharedModuleLoader?view=RSM-TV-Channel-"+a)};Reuters.rtv.activeChannel=function(){$("#rtv"+tvCurrentChannel).length>0&&tvCurrentChannel!="undefined"&&$("#rtv"+tvCurrentChannel).toggleClass("current",true)};Reuters.rtv.formatPagination=function(){$(".tvShowNav .pageNavigation ul li:nth-child(2)").addClass("firstPage")};
Reuters.rtv.yt={};function onYouTubePlayerReady(){Reuters.rtv.yt.player=document.getElementById("ytPlayer");Reuters.rtv.yt.player.addEventListener("onStateChange","Reuters.rtv.yt.onytplayerStateChange")}function fixYouTubeArticleTab(){$("#articleTabSection").length>0&&$($("#videoPlayerLarge").parents().get(2)).css("height","470px")}
Reuters.rtv.yt.iframeLoader=function(){var a=document.createElement("script");a.src="http://www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};Reuters.rtv.yt.iframeOnPlayerReady=function(){};Reuters.rtv.yt.isInitialPlay=1;
Reuters.rtv.yt.onytplayerStateChange=function(a){var b=Reuters.utils.isLoggedIn()?"1":"0";switch(a){case 0:dcsMultiTrack("DCS.dcsuri",encodeURI(location.pathname),"DCSext.rChannel","Video","WT.cg_n","Video - Reuters TV","WT.cg_s",currentVideo.channelName,"DCSext.ContentType","Video","DCSext.ContentChannel","Reuters TV","DCSext.ContentHeadline",currentVideo.title,"DCSext.ContentID",currentVideo.id,"DCSext.DartZone","","DCSext.ModID","","DCSext.ModImp","","WT.clip_cnttype","Report","WT.clip_channel",
currentVideo.channelName,"WT.clip_kywds",currentVideo.keywords.replace(/,/g,";"),"WT.rv",b,"WT.dl","6","WT.clip_t","FLV","WT.clip_n",currentVideo.title,"WT.clip_ev","100","WT.clip_min","00:00","WT.ti",currentVideo.title);Reuters.video.loadNextVideo();break;case 1:if(Reuters.rtv.yt.isInitialPlay)Reuters.rtv.yt.isInitialPlay=0,dcsMultiTrack("DCS.dcsuri",encodeURI(location.pathname),"DCSext.rChannel","Video","WT.cg_n","Video - Reuters TV","WT.cg_s",currentVideo.channelName,"DCSext.ContentType","Video",
"DCSext.ContentChannel","Reuters TV","DCSext.ContentHeadline",currentVideo.title,"DCSext.ContentID",currentVideo.id,"DCSext.DartZone","","DCSext.ModID","","DCSext.ModImp","","WT.clip_cnttype","Report","WT.clip_channel",currentVideo.channelName,"WT.clip_kywds",currentVideo.keywords.replace(/,/g,";"),"WT.rv",b,"WT.dl","6","WT.clip_t","FLV","WT.clip_n",currentVideo.title,"WT.clip_ev","0","WT.clip_min","00:00","WT.ti",currentVideo.title)}};
Reuters.rtv.yt.iframeOnPlayerStateChange=function(a){a.data==YT.PlayerState.ENDED&&Reuters.video.loadNextVideo()};Reuters.rtv.yt.dfpVideo=function(a,b){googletag.display(a,b)};